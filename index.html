<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>C·∫∑p l·ªìng gi·ªØ nhi·ªát Kela ƒê·ª©c 1,2L</title>
  <meta name="description" content="C·∫∑p l·ªìng gi·ªØ nhi·ªát Kela ƒê·ª©c 1,2L - Inox 304 an to√†n, gi·ªØ n√≥ng 4‚Äì6h, gi·ªØ l·∫°nh 6‚Äì8h. Freeship to√†n qu·ªëc, ƒë·ªïi tr·∫£ 3 ng√†y, h√†ng ch√≠nh h√£ng." />

  <!-- Swiper -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
  <style>
    :root{
      --red:#ff4d4d;
      --black:#111;
      --text:#222;
      --muted:#666;
      --bg:#fff;
      --shadow:0 10px 25px rgba(0,0,0,.08);
      --r:16px;
      --content:960px;
      --container:1200px;
      --chip:#ffecec;
      --chip-text:#b01212;
    }
    html,body{margin:0;padding:0;background:#fff;color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Apple Color Emoji','Segoe UI Emoji',sans-serif}
    img,video{max-width:100%;display:block}
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--container);margin-inline:auto;padding:20px}
    .page{max-width:var(--container);margin:0 auto}
    h1{font-weight:800;font-size:clamp(22px,3vw,34px);margin:0 0 8px}
    h2{font-weight:800;font-size:clamp(20px,2.5vw,28px);margin:0 0 8px;text-align:center}
    h3{font-weight:800;font-size:clamp(18px,2.2vw,24px);margin:0 0 8px}
    .muted{color:var(--muted)}

    /* ---------- HERO ---------- */
    .hero{display:grid;grid-template-columns:1fr 1fr;gap:28px;align-items:start}
    @media(max-width:992px){.hero{grid-template-columns:1fr}}
    .square{aspect-ratio:1/1;border-radius:18px;overflow:hidden;box-shadow:var(--shadow);background:#f6f6f6}
    .square img,.square video{width:100%;height:100%;object-fit:cover}
    .thumbs{margin-top:12px}
    .thumbs .swiper-slide{opacity:.6;border:2px solid transparent;border-radius:12px;overflow:hidden}
    .thumbs .swiper-slide-thumb-active{opacity:1;border-color:var(--red)}
    .name{margin:0 0 4px}
    .price{display:flex;align-items:baseline;gap:10px;margin:6px 0 8px}
    .price .now{font-size:28px;color:var(--red);font-weight:800}
    .price .old{text-decoration:line-through;color:#888}
    .badges{display:flex;flex-wrap:wrap;gap:8px;margin:6px 0 12px}
    .chip{display:inline-flex;align-items:center;gap:6px;background:var(--chip);color:var(--chip-text);padding:8px 12px;border-radius:999px;font-weight:700}
    .cta{display:inline-block;background:var(--red);color:#fff;font-weight:800;border:none;border-radius:12px;padding:12px 20px;cursor:pointer;box-shadow:var(--shadow)}
    .countdown{margin-top:10px;font-size:14px}
    .countdown small{opacity:.8}
    .counter{font-variant-numeric:tabular-nums}
    .hero-note{margin-top:8px;font-size:14px;color:#666}
    .index-indicator{position:absolute;bottom:8px;left:12px;z-index:5;background:rgba(0,0,0,.55);color:#fff;padding:4px 8px;border-radius:999px;font-size:12px}
    .hero-media{position:relative}

    /* ---------- STICKY CTA (mobile) ---------- */
    .sticky-cta{position:sticky;bottom:0;inset-inline:0;background:rgba(255,255,255,.85);backdrop-filter:blur(8px);padding:10px;border-top:1px solid #eee;z-index:40;display:none}
    @media(max-width:768px){.sticky-cta{display:block}}
    .sticky-cta .row{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .sticky-cta .row .cta{flex:1}

    /* ---------- DESCRIPTION ---------- */
    .desc{max-width:var(--content);margin:40px auto 20px}
    .usp{display:grid;grid-template-columns:1fr 1fr;gap:28px;align-items:center;margin:60px 0}
    .usp:nth-child(even){grid-auto-flow:dense}
    .usp:nth-child(even) .text{order:2}
    .usp .text p{line-height:1.6}
    .usp .media{justify-self:center}
    .card-img{width:100%;max-width:520px;aspect-ratio:1/1;border-radius:18px;overflow:hidden;box-shadow:var(--shadow)}
    .card-img img{width:100%;height:100%;object-fit:cover}
    @media(max-width:992px){.usp{grid-template-columns:1fr}.usp .text{text-align:left}.desc{padding-inline:12px}}

    /* ---------- SECTION TITLE ---------- */
    .sec-title{display:flex;align-items:center;justify-content:center;gap:8px;margin:40px 0 16px}
    .sec-title span{font-size:26px;font-weight:800}

    /* ---------- VIDEO SLIDER ---------- */
    .video-wrap{max-width:var(--content);margin:0 auto}
    .video-slide{aspect-ratio:1/1;border-radius:18px;overflow:hidden;box-shadow:var(--shadow);background:#000}
    .video-slide video{width:100%;height:100%;object-fit:cover}
    .nav-btn{background:#fff;border:1px solid #eee;box-shadow:var(--shadow);width:38px;height:38px;border-radius:999px;display:grid;place-items:center;color:#333}
    .nav-btn:hover{background:#f7f7f7}

    /* ---------- REVIEW ---------- */
    .review-wrap{max-width:var(--container);margin:0 auto}
    .review-card{background:#fff;border:1px solid #eee;border-radius:18px;box-shadow:var(--shadow);padding:16px;height:100%;display:flex;gap:16px}
    .review-thumb{width:84px;height:84px;border-radius:12px;overflow:hidden;flex:0 0 84px}
    .review-thumb img{width:100%;height:100%;object-fit:cover}
    .stars{color:#ffb400}

    /* ---------- FAQ ---------- */
    .faq{max-width:var(--content);margin:30px auto}
    .faq details{border:1px solid #eee;border-radius:12px;padding:14px 16px;margin:10px 0}
    .faq summary{cursor:pointer;font-weight:700}
    .faq p{margin:8px 0 0;color:#444}

    /* ---------- FOOTER ---------- */
    footer{margin:40px 0 60px}
    .footer-note{max-width:var(--content);margin:0 auto;text-align:center;color:#666}
    .usp-line{display:flex;flex-wrap:wrap;gap:14px;justify-content:center;margin-bottom:14px}
    .pill{border:1px dashed #ddd;padding:8px 12px;border-radius:999px;background:#fff}

    /* ---------- MODAL FORM ---------- */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;place-items:center;z-index:99}
    .modal{background:#fff;border-radius:16px;box-shadow:var(--shadow);width:min(560px,92vw);padding:18px}
    .modal .close{position:absolute;top:12px;right:12px;background:#fff;border:1px solid #eee;border-radius:999px;width:32px;height:32px;display:grid;place-items:center;cursor:pointer}
    .grid{display:grid;gap:10px}
    .grid .row{display:grid;gap:10px}
    .field, select, textarea{width:100%;border:1px solid #e5e5e5;border-radius:10px;padding:12px 12px;font:inherit}
    .field:focus, select:focus, textarea:focus{outline:2px solid #ffe4e4;border-color:#ffcccc}
    .submit{background:var(--red);color:#fff;font-weight:800;border:none;border-radius:12px;padding:12px;cursor:pointer}
    .thanks{display:none;text-align:center;padding:14px;color:#0a7a3e;font-weight:700}
  </style>
</head>
<body>
  <main class="container page">
    <!-- ================= HERO ================= -->
    <section class="hero" id="hero">
      <!-- Media -->
      <div>
        <div class="hero-media">
          <div class="index-indicator" id="heroIndex">1 / 6</div>
          <div class="swiper square" id="heroSwiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><img src="assets/1.png" alt=""></div>
              <div class="swiper-slide"><img src="assets/2.png" alt=""></div>
              <div class="swiper-slide"><img src="assets/3.png" alt=""></div>
              <div class="swiper-slide"><img src="assets/4.png" alt=""></div>
              <div class="swiper-slide"><img src="assets/5.png" alt=""></div>
              <div class="swiper-slide"><img src="assets/6.png" alt=""></div>
            </div>
          </div>
        </div>
        <div class="swiper thumbs" id="thumbsSwiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide square"><img src="assets/1.png" alt=""></div>
            <div class="swiper-slide square"><img src="assets/2.png" alt=""></div>
            <div class="swiper-slide square"><img src="assets/3.png" alt=""></div>
            <div class="swiper-slide square"><img src="assets/4.png" alt=""></div>
            <div class="swiper-slide square"><img src="assets/5.png" alt=""></div>
            <div class="swiper-slide square"><img src="assets/6.png" alt=""></div>
          </div>
          <div class="swiper-scrollbar"></div>
        </div>
      </div>

      <!-- Text -->
      <div>
        <h1 class="name">C·∫∑p l·ªìng gi·ªØ nhi·ªát Kela ƒê·ª©c 1,2L</h1>

        <div class="price">
          <div class="now">350.000ƒë</div>
          <div class="old">870.000ƒë</div>
        </div>

        <div class="badges">
          <div class="chip">üî• SALE 60% h√¥m nay ‚Äî Freeship to√†n qu·ªëc</div>
          <div class="chip">‚úÖ ƒê·ªïi tr·∫£ 3 ng√†y</div>
          <div class="chip">üè∑Ô∏è H√†ng ch√≠nh h√£ng</div>
        </div>

        <button class="cta" id="ctaTop">Mua ngay ‚Äì Gi·∫£m 60%</button>
        <div class="countdown">
          <small>∆Øu ƒë√£i k·∫øt th√∫c sau: </small><span class="counter" id="countdown">--:--</span>
        </div>

        <div class="hero-note muted">SALE 60% h√¥m nay ‚Äì S·ªë l∆∞·ª£ng c√≥ h·∫°n | Freeship to√†n qu·ªëc | ƒê·ªïi tr·∫£ 3 ng√†y | H√†ng ch√≠nh h√£ng</div>
      </div>
    </section>

    <!-- Sticky CTA mobile -->
    <div class="sticky-cta">
      <div class="row">
        <div class="muted"><b>350.000ƒë</b> <small class="muted" style="text-decoration:line-through">870.000ƒë</small></div>
        <button class="cta" id="ctaSticky">Mua ngay ‚Äì Gi·∫£m 60%</button>
      </div>
    </div>

    <!-- ================= DESCRIPTION ================= -->
    <section class="desc" id="desc">
      <div class="usp">
        <div class="text">
          <h3>üî• Gi·ªØ nhi·ªát v∆∞·ª£t tr·ªôi c·∫£ ng√†y</h3>
          <p>Nh·ªù c√¥ng ngh·ªá ch√¢n kh√¥ng 2 l·ªõp, c·∫∑p l·ªìng Kela gi√∫p c∆°m canh <b>lu√¥n n√≥ng h·ªïi ƒë·∫øn tr∆∞a</b>, ƒë·ªìng th·ªùi <b>gi·ªØ l·∫°nh hi·ªáu qu·∫£ nhi·ªÅu gi·ªù</b>, mang ƒë·∫øn tr·∫£i nghi·ªám ti·ªán l·ª£i cho c·∫£ gia ƒë√¨nh.</p>
        </div>
        <div class="media">
          <div class="card-img"><img src="assets/1.png" alt=""></div>
        </div>
      </div>

      <div class="usp">
        <div class="media">
          <div class="card-img"><img src="assets/2.png" alt=""></div>
        </div>
        <div class="text">
          <h3>üèÖ Ch·∫•t li·ªáu Inox 304 cao c·∫•p</h3>
          <p>C·∫∑p l·ªìng gi·ªØ nhi·ªát Kela ƒë∆∞·ª£c l√†m t·ª´ <b>th√©p kh√¥ng g·ªâ 304</b>, an to√†n tuy·ªát ƒë·ªëi cho s·ª©c kh·ªèe, ch·ªëng g·ªâ s√©t, b·ªÅn ƒë·∫πp theo th·ªùi gian ‚Äì l·ª±a ch·ªçn l√Ω t∆∞·ªüng cho nh·ªØng ng∆∞·ªùi quan t√¢m ch·∫•t l∆∞·ª£ng.</p>
        </div>
      </div>
    </section>

    <!-- ================= VIDEO ================= -->
    <div class="sec-title" id="video">
      <span>üé• Video th·ª±c t·∫ø t·ª´ kh√°ch h√†ng</span>
    </div>
    <section class="video-wrap container">
      <div class="swiper" id="videoSwiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide video-slide"><video muted loop playsinline preload="metadata" src="assets/v4.mp4"></video></div>
          <div class="swiper-slide video-slide"><video muted loop playsinline preload="metadata" src="assets/v3.mp4"></video></div>
          <div class="swiper-slide video-slide"><video muted loop playsinline preload="metadata" src="assets/v2.mp4"></video></div>
          <div class="swiper-slide video-slide"><video muted loop playsinline preload="metadata" src="assets/v1.mp4"></video></div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev nav-btn">‚Äπ</div>
        <div class="swiper-button-next nav-btn">‚Ä∫</div>
      </div>
    </section>

    <!-- ================= REVIEW ================= -->
    <div class="sec-title" id="review">
      <span>‚ú® Tr·∫£i nghi·ªám th·ª±c t·∫ø t·ª´ kh√°ch h√†ng</span>
    </div>
    <section class="review-wrap container">
      <div class="swiper" id="reviewSwiper">
        <div class="swiper-wrapper">
          <!-- d√πng ·∫£nh 2,3,6 l√†m ·∫£nh review -->
          <div class="swiper-slide">
            <div class="review-card">
              <div class="review-thumb"><img src="assets/2.png" alt=""></div>
              <div>
                <div><b>Nguy·ªÖn Th·∫£o</b></div>
                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <p class="muted">C∆°m mang t·ª´ s√°ng ƒë·∫øn tr∆∞a v·∫´n n√≥ng h·ªïi. Thi·∫øt k·∫ø g·ªçn g√†ng, b·ªè balo kh√¥ng lo ƒë·ªï.</p>
              </div>
            </div>
          </div>

          <div class="swiper-slide">
            <div class="review-card">
              <div class="review-thumb"><img src="assets/3.png" alt=""></div>
              <div>
                <div><b>Thu H√†</b></div>
                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <p class="muted">Inox 304 an to√†n n√™n y√™n t√¢m. H·ªôp ch·∫Øc ch·∫Øn, gi·ªØ nhi·ªát t·ªët.</p>
              </div>
            </div>
          </div>

          <div class="swiper-slide">
            <div class="review-card">
              <div class="review-thumb"><img src="assets/6.png" alt=""></div>
              <div>
                <div><b>Minh Khoa</b></div>
                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                <p class="muted">S·∫£n ph·∫©m ch·∫Øc ch·∫Øn, gi·ªØ nhi·ªát c·ª±c t·ªët. Giao h√†ng nhanh v√† ƒë√≥ng g√≥i c·∫©n th·∫≠n.</p>
              </div>
            </div>
          </div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev nav-btn">‚Äπ</div>
        <div class="swiper-button-next nav-btn">‚Ä∫</div>
      </div>
    </section>

    <!-- ================= FAQ ================= -->
    <div class="sec-title" id="faq">
      <span>‚ùì C√¢u h·ªèi th∆∞·ªùng g·∫∑p</span>
    </div>
    <section class="faq">
      <details>
        <summary>H·ªôp gi·ªØ n√≥ng ƒë∆∞·ª£c bao l√¢u?</summary>
        <p>C·∫∑p l·ªìng gi·ªØ nhi·ªát Kela c√≥ kh·∫£ nƒÉng gi·ªØ n√≥ng 4‚Äì6 gi·ªù v√† gi·ªØ l·∫°nh 6‚Äì8 gi·ªù nh·ªù c√¥ng ngh·ªá ch√¢n kh√¥ng 2 l·ªõp.</p>
      </details>
      <details>
        <summary>C√≥ b·ªã tr√†n khi ƒë·ªÉ trong balo?</summary>
        <p>Kh√¥ng. N·∫Øp kh√≥a k√≠n v√† ron ch·ªëng tr√†n gi√∫p b·∫°n y√™n t√¢m khi di chuy·ªÉn, kh√¥ng lo r√≤ r·ªâ.</p>
      </details>
      <details>
        <summary>C√≥ k√®m th√¨a kh√¥ng?</summary>
        <p>C√≥, s·∫£n ph·∫©m t·∫∑ng k√®m th√¨a inox g·∫•p g·ªçn.</p>
      </details>
    </section>

    <!-- ================= FOOTER ================= -->
    <footer>
      <div class="footer-note">
        <div class="usp-line">
          <span class="pill">üöö Freeship to√†n qu·ªëc</span>
          <span class="pill">üîÑ ƒê·ªïi tr·∫£ trong 3 ng√†y</span>
          <span class="pill">üõ°Ô∏è H√†ng ch√≠nh h√£ng</span>
          <span class="pill">‚òéÔ∏è H·ªó tr·ª£ 24/7</span>
        </div>
        <div>Hotline: 0123 456 789 ¬∑ Email: support@example.com</div>
      </div>
    </footer>
  </main>

  <!-- ================= MODAL ORDER FORM ================= -->
  <div class="modal-backdrop" id="modal">
    <div class="modal">
      <button class="close" id="closeModal">‚úï</button>
      <h3>ƒê·∫∑t h√†ng ngay</h3>
      <div class="grid" style="margin-top:8px">
        <div class="row">
          <select id="fColor">
            <option value="">Ch·ªçn m√†u</option>
            <option>Inox</option>
            <option>H·ªìng</option>
          </select>
          <select id="fCombo">
            <option value="">Ch·ªçn combo</option>
            <option>Mua 1 ‚Äì 350K</option>
            <option>Mua 2 ‚Äì 650K</option>
            <option>Mua 3 ‚Äì 950K</option>
          </select>
        </div>
        <input class="field" id="fName" placeholder="H·ªç t√™n">
        <input class="field" id="fPhone" inputmode="numeric" placeholder="S·ªë ƒëi·ªán tho·∫°i (0xxxxxxxxx)">
        <input class="field" id="fAddr" placeholder="ƒê·ªãa ch·ªâ">
        <textarea class="field" id="fNote" rows="3" placeholder="Ghi ch√∫"></textarea>
        <button class="submit" id="submitOrder">X√°c nh·∫≠n ƒë·∫∑t h√†ng</button>
        <div class="thanks" id="thanks">‚úÖ ƒê·∫∑t h√†ng th√†nh c√¥ng! C·∫£m ∆°n b·∫°n. (T·ª± ƒë√≥ng sau 3 gi√¢y)</div>
      </div>
    </div>
  </div>

  <!-- Swiper & helpers -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script>
  // ---------- COUNTDOWN (30 ph√∫t, l∆∞u localStorage) ----------
  (function(){
    const key='dealCountdownStart';
    let start=localStorage.getItem(key);
    if(!start){ start=Date.now(); localStorage.setItem(key, start); }
    const span=document.getElementById('countdown');
    const tick=()=> {
      const elapsed=Date.now()-(+start);
      const total=30*60*1000; // 30 ph√∫t
      const left=total-elapsed;
      if(left<=0){ span.textContent='H·∫øt h·∫°n!'; return; }
      const m=Math.floor(left/60000);
      const s=Math.floor((left%60000)/1000);
      span.textContent=(m+'').padStart(2,'0')+':'+(s+'').padStart(2,'0');
      requestAnimationFrame(tick);
    };
    tick();
  })();

  // ---------- SWIPER INIT (ch·∫Øc ch·∫Øn ƒë√∫ng th·ª© t·ª±) ----------
  const thumbsSwiper = new Swiper('#thumbsSwiper', {
    slidesPerView: 4.5,
    spaceBetween: 10,
    freeMode: true,
    watchSlidesProgress: true,
    scrollbar: { el: '#thumbsSwiper .swiper-scrollbar', draggable: true },
    breakpoints:{640:{slidesPerView:5.5},992:{slidesPerView:6}}
  });

  const heroSwiper = new Swiper('#heroSwiper', {
    spaceBetween: 10,
    effect: 'slide',
    loop: false,
    speed: 350,
    thumbs: { swiper: thumbsSwiper },
    on:{
      slideChange(s){
        document.getElementById('heroIndex').textContent = (s.activeIndex+1)+' / 6';
      }
    }
  });

  // ---------- VIDEO SWIPER ----------
  const videoSwiper = new Swiper('#videoSwiper', {
    loop:false,
    spaceBetween:16,
    slidesPerView:1.1,
    centeredSlides:false,
    navigation:{ nextEl:'#videoSwiper .swiper-button-next', prevEl:'#videoSwiper .swiper-button-prev' },
    pagination:{ el:'#videoSwiper .swiper-pagination', clickable:true },
    breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3}}
  });

  // Video behavior: desktop auto-play (muted/loop); mobile click-to-play
  (function(){
    const isMobile = /Mobi|Android/i.test(navigator.userAgent);
    document.querySelectorAll('#videoSwiper video').forEach(v=>{
      if(!isMobile){ v.play().catch(()=>{}); }
      v.addEventListener('click', ()=>{ if(v.paused) v.play(); else v.pause(); });
    });
    // Pause videos when slide not visible
    videoSwiper.on('slideChange', ()=>{
      document.querySelectorAll('#videoSwiper video').forEach((v,i)=>{
        if(Math.abs(i - videoSwiper.activeIndex) > 1) v.pause();
      });
    });
  })();

  // ---------- REVIEW SWIPER ----------
  const reviewSwiper = new Swiper('#reviewSwiper', {
    spaceBetween:16,
    slidesPerView:1.05,
    navigation:{ nextEl:'#reviewSwiper .swiper-button-next', prevEl:'#reviewSwiper .swiper-button-prev' },
    pagination:{ el:'#reviewSwiper .swiper-pagination', clickable:true },
    breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3}}
  });

  // ---------- MODAL ----------
  const modal = document.getElementById('modal');
  const openModal = ()=>{ modal.style.display='grid'; document.body.style.overflow='hidden'; };
  const closeModal = ()=>{ modal.style.display='none'; document.body.style.overflow=''; };
  document.getElementById('ctaTop').addEventListener('click', openModal);
  document.getElementById('ctaSticky').addEventListener('click', openModal);
  document.getElementById('closeModal').addEventListener('click', closeModal);
  modal.addEventListener('click', e=>{ if(e.target===modal) closeModal(); });

  // ---------- ORDER SUBMIT ----------
  const ENDPOINT = 'YOUR_GOOGLE_APPS_SCRIPT_URL_HERE'; // <-- thay b·∫±ng URL Apps Script c·ªßa b·∫°n
  function payload(){
    const phoneRaw = (document.getElementById('fPhone').value||'').trim();
    const data = {
      color: document.getElementById('fColor').value,
      combo: document.getElementById('fCombo').value,
      name:  (document.getElementById('fName').value||'').trim(),
      phone: phoneRaw ? ("'"+phoneRaw) : "", // gi·ªØ s·ªë 0 ƒë·∫ßu
      addr:  (document.getElementById('fAddr').value||'').trim(),
      note:  (document.getElementById('fNote').value||'').trim(),
      ts: new Date().toLocaleString('vi-VN')
    };
    return data;
  }

  async function submitOrder(){
    const data = payload();
    if(!data.color || !data.combo || !data.name || !data.phone || !data.addr){
      alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin b·∫Øt bu·ªôc.'); return;
    }
    try{
      // G·ª≠i JSON tr∆∞·ªõc
      const r = await fetch(ENDPOINT, {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify(data)
      });
      if(!r.ok) throw new Error('JSON fail, fallback');
      onDone();
    }catch(e){
      // Fallback form-encoded
      const fd = new URLSearchParams();
      Object.entries(data).forEach(([k,v])=>fd.append(k,v));
      try{
        const r2 = await fetch(ENDPOINT, {
          method:'POST',
          headers:{'Content-Type':'application/x-www-form-urlencoded'},
          body: fd.toString()
        });
        if(!r2.ok) throw new Error('Fallback fail');
        onDone();
      }catch(err){
        alert('Kh√¥ng g·ª≠i ƒë∆∞·ª£c ƒë∆°n h√†ng. Vui l√≤ng th·ª≠ l·∫°i!');
      }
    }
  }

  function onDone(){
    const t = document.getElementById('thanks');
    t.style.display='block';
    setTimeout(()=>{ t.style.display='none'; closeModal(); }, 3000);
    // reset
    ['fColor','fCombo','fName','fPhone','fAddr','fNote'].forEach(id=>{
      const el=document.getElementById(id);
      if(el.tagName==='SELECT') el.selectedIndex=0; else el.value='';
    });
  }
  document.getElementById('submitOrder').addEventListener('click', submitOrder);

  // Avoid any accidental zoom/scale tricks:
  // No transforms/animations on <body>, and only one viewport meta. üëç
  </script>
</body>
</html>
